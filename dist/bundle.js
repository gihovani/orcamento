(()=>{"use strict";var e,o=function(e){return isNaN(e)?0:Math.round(100*e)/100},t=function(e){return e=e.replace(",",".").replace(/[^0-9.-]+/,""),o(parseFloat(e))},n=function(e,o){var t=e.querySelector(o);return t?t.textContent.trim():""},r=function(e){return e?e.toLocaleString("pt-br",{minimumFractionDigits:2}):"0,00"},a=function(e,o,t,n){var r;void 0===o&&(o=[]),void 0===t&&(t=[]),void 0===n&&(n="");var a=document.createElement(e);o.length&&(r=a.classList).add.apply(r,o);for(var i=0,l=t;i<l.length;i++){var c=l[i];a.setAttribute(c.nome,c.valor)}return n&&(a.innerText=n),a},i=function(){function e(){}return e.prototype.renderizar=function(){this.elemento.firstChild&&this.elemento.firstChild.remove();var e=a("div",["d-flex","flex-column","h-100","container"]);e.appendChild(this.cabecalho()),e.appendChild(this.conteudo()),e.appendChild(this.rodape()),this.elemento.appendChild(e),this.toggleMenu()},e.prototype.toggleMenu=function(){document.querySelector("button.navbar-toggler").addEventListener("click",(function(e){document.querySelector(this.getAttribute("data-bs-target")).classList.toggle("show")}))},e}(),l=function(){function e(e,o,t,n,r,a,i,l,c,s){this.nome=e,this.prioridade=o,this.situacao=t,this.data_inicio=n,this.data_fim=r,this.condicoes=a,this.acao=i,this.descricao=l,this.imagem_desktop=c,this.imagem_mobile=s,this._promocao_aplicada=!1}return Object.defineProperty(e.prototype,"promocao_aplicada",{get:function(){return this._promocao_aplicada},enumerable:!1,configurable:!0}),e.prototype.atendeCriteriosDaPromocao=function(e){var o=this;if(!this.situacao)return!1;var t=new Date;if(this.data_inicio&&this.data_inicio>t)return this.situacao=!1,!1;if(this.data_fim&&this.data_fim<t)return this.situacao=!1,!1;if(0===this.condicoes.length)return this._carrinho_itens.length>0;this._carrinho_itens=e;for(var n=function(t){["id","preco","categorias","marca"].indexOf(t.tipo)>=0&&(r._carrinho_itens=r._carrinho_itens.filter((function(e){return o.verificarCondicao(t,e.produto)}))),["valor_itens","quantidade_itens"].indexOf(t.tipo)>=0&&(r._carrinho_itens=r.verificaValorOuQuantidade(r._carrinho_itens,t)),["valor_total","quantidade_total"].indexOf(t.tipo)>=0&&(r._carrinho_itens=r.verificaValorOuQuantidade(e,t))},r=this,a=0,i=this.condicoes;a<i.length;a++)n(i[a]);return this._carrinho_itens.length>0},e.prototype.verificaValorOuQuantidade=function(e,o){var t=0;e.map((function(e){t+=e.preco_unitario*e.quantidade,e.quantidade}));var n={};return n[o.tipo]=t,this.verificarCondicao(o,n)||(e=[]),e},e.prototype.verificarCondicao=function(e,o){var t=e.tipo,n=e.operacao,r=e.valor;if(!o.hasOwnProperty(t))return!1;if("categorias"===t){var a=o.categorias.toLowerCase().split(" > ").indexOf(r.toLowerCase())>=0;return"igual"===n?a:!a}switch(n){case"igual":return o[t]==r;case"diferente":return o[t]!=r;case"maior":return o[t]>r;case"menor":return o[t]<r;case"maior_igual":return o[t]>=r;case"menor_igual":return o[t]<=r;case"e_um_dos":return r.split(",").includes(String(o[t]));case"nao_e_um_dos":return!r.split(",").includes(String(o[t]));default:return!1}},e.prototype.aplicarPromocao=function(e){if(0!==this._carrinho_itens.length)switch(this._promocao_aplicada=!0,this.acao.tipo){case"desconto_porcentagem":this.regraDescontoPorcentagem();break;case"desconto_fixo":case"valor_unitario":break;case"brinde_unico":this.regraDeBrindeUnico(e)}},e.prototype.regraDeBrindeUnico=function(e){this.acao.brindes.map((function(o){e.brindes.push(o)}))},e.prototype.regraDescontoPorcentagem=function(){var e=this;this._carrinho_itens.map((function(o){var t=o.preco_unitario*(e.acao.valor/100);t=e.verificaValorMaximoDeDesconto(t*o.quantidade),e.atualizaValorUnitario(o,t)}))},e.prototype.verificaValorMaximoDeDesconto=function(e){return this.acao.valor_maximo,e},e.prototype.atualizaValorUnitario=function(e,t){t&&(t=o(t/e.quantidade),e.desconto+=t,e.preco_unitario=o(e.preco_unitario-t))},e}(),c=function(){function e(e){void 0===e&&(e=[]),this._produtos=[],this.brindes=[],this.promocoes=[],this.produtos=[],this.brindes=[],this.promocoes=e}return Object.defineProperty(e.prototype,"produtos",{get:function(){return this._produtos},set:function(e){this._produtos=e},enumerable:!1,configurable:!0}),e.prototype.adicionarProduto=function(e,o,t,n){void 0===t&&(t=!1),void 0===n&&(n=""),o&&!isNaN(o)||(o=1);var r=this.produtos.find((function(o){return o.produto.id===e.id}));r?(r.quantidade=t?o:r.quantidade+o,n&&(r.personalizacao=n)):this.produtos.push({quantidade:o,preco_unitario:e.preco,desconto:0,produto:e,personalizacao:n}),this.totalizar()},e.prototype.removerProduto=function(e){this.produtos=this.produtos.filter((function(o){return o.produto.id!==e.id})),this.totalizar()},e.prototype.limparPromocoesProdutos=function(){this.brindes=[],this._produtos.map((function(e){e.desconto=0,e.preco_unitario=e.produto.preco}))},e.prototype.aplicarPromocoes=function(){this.limparPromocoesProdutos(),this.promocoes.sort((function(e,o){return e.prioridade-o.prioridade}));for(var e=0,o=this.promocoes;e<o.length;e++){var t=o[e];t.atendeCriteriosDaPromocao(this.produtos)&&t.aplicarPromocao(this)}},e.prototype.totalizar=function(){this.aplicarPromocoes(),this.totalizador={quantidade_produtos:0,valor_total:0,valor_subtotal:0,valor_desconto:0,detalhes_decontos:[]},this.totalizador.detalhes_decontos.push(["produto","preco_original","quantidade","preco_unitario","desconto","valor"].join(";"));for(var e=0,t=this._produtos;e<t.length;e++){var n=t[e],r=o(n.quantidade*n.preco_unitario),a=o(n.quantidade*n.desconto),i=o(n.quantidade*n.produto.preco);this.totalizador.quantidade_produtos+=n.quantidade,this.totalizador.valor_subtotal=o(this.totalizador.valor_subtotal+i),this.totalizador.valor_total=o(this.totalizador.valor_total+r),this.totalizador.valor_desconto=o(this.totalizador.valor_desconto+a),this.totalizador.detalhes_decontos.push([n.produto.id,n.produto.preco,n.quantidade,n.preco_unitario,n.desconto,r].join(";"))}},e}(),s=function(e){if(11!==(e=e.replace(/\D/g,"")).length)return!1;if(/^(\d)\1+$/.test(e))return!1;for(var o=0,t=0;t<9;t++)o+=parseInt(e.charAt(t))*(10-t);var n=o%11,r=n<2?0:11-n;if(parseInt(e.charAt(9))!==r)return!1;for(o=0,t=0;t<10;t++)o+=parseInt(e.charAt(t))*(11-t);var a=(n=o%11)<2?0:11-n;return parseInt(e.charAt(10))===a},d=function(e){var o=e.replace(/\D/g,"");return/^\d{10,11}$/.test(o)},u=function(e){return 8===(e=e.replace(/\D/g,"")).length},p=function(e){return 2===e.length&&["RO","AC","AM","RR","PA","AP","TO","MA","PI","CE","RN","PB","PE","AL","SE","BA","MG","ES","RJ","SP","PR","SC","RS","MS","MT","GO","DF"].indexOf(e)>=0},m=function(){function e(e,o,t,n,r,a,i,l,c,s,d,u){e&&(this.documento=e),o&&(this.nome=o),t&&(this.sexo=t),n&&(this.data_nascimento=n),r&&(this.profissao=r),a&&(this.email=a),i&&(this.registro=i),l&&(this.registro_uf=l),c&&(this.rg=c),s&&(this.rg_uf=s),d&&(this.telefone=d),u&&(this.celular=u)}return Object.defineProperty(e.prototype,"documento",{get:function(){var e;return null!==(e=this._documento)&&void 0!==e?e:""},set:function(e){if(!s(e))throw Error("Cliente Inválido: o documento deve ser um número válido!");this._documento=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nome",{get:function(){var e;return null!==(e=this._nome)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Cliente Inválido: o nome do cliente é obrigatório!");this._nome=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sexo",{get:function(){var e;return null!==(e=this._sexo)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Cliente Inválido: o sexo do cliente é obrigatário!");if(["M","F"].indexOf(e)<0)throw Error("Cliente Inválido: o sexo do cliente é não é válido! Ex: M ou F");this._sexo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data_nascimento",{get:function(){var e;return null!==(e=this._data_nascimento)&&void 0!==e?e:""},set:function(e){if(!function(e){var o=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!o.test(e))return!1;var t=e.match(o),n=t[1],r=t[2],a=t[3],i=new Date(parseInt(a),parseInt(r)-1,parseInt(n));return i.getDate()===parseInt(n)&&i.getMonth()===parseInt(r)-1&&i.getFullYear()===parseInt(a)&&i<=new Date}(e))throw Error("Cliente Inválido: a data de nascimento do cliente deve ser uma data válida! Ex: dd/mm/aaaa");this._data_nascimento=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"registro_uf",{get:function(){var e;return null!==(e=this._registro_uf)&&void 0!==e?e:""},set:function(e){if(e&&!p(e))throw Error("Cliente Inválido: a uf do Registro deve ser uma sigla válida! Ex: SP, RJ, MG, etc.");this._registro_uf=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rg_uf",{get:function(){var e;return null!==(e=this._rg_uf)&&void 0!==e?e:""},set:function(e){if(e&&!p(e))throw Error("Cliente Inválido: a uf do RG deve ser uma sigla válida! Ex: SP, RJ, MG, etc.");this._rg_uf=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"telefone",{get:function(){var e;return null!==(e=this._telefone)&&void 0!==e?e:""},set:function(e){if(e&&!d(e))throw Error("Cliente Inválido: o telefone deve ser um número válido! Ex: (99) 9999-9999");this._telefone=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"celular",{get:function(){var e;return null!==(e=this._celular)&&void 0!==e?e:""},set:function(e){if(e&&!d(e))throw Error("Cliente Inválido: o celular deve ser um número válido! Ex: (99) 99999-9999");this._celular=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){var e;return null!==(e=this._email)&&void 0!==e?e:""},set:function(e){if(!function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(e))throw Error("Cliente Inválido: o email dever ser um endereço válido!");this._email=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"profissao",{get:function(){var e;return null!==(e=this._profissao)&&void 0!==e?e:""},set:function(e){this._profissao=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"registro",{get:function(){var e;return null!==(e=this._registro)&&void 0!==e?e:""},set:function(e){this._registro=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rg",{get:function(){var e;return null!==(e=this._rg)&&void 0!==e?e:""},set:function(e){this._rg=e},enumerable:!1,configurable:!0}),e}(),f=function(){function e(){this.dados=new m}return e.prototype.salvar=function(e){return this.dados=e,new Promise((function(o,t){e.nome?o(e):t("O cliente não pode ser salvo!")}))},e.prototype.consultar=function(e){return new Promise((function(o,t){s(e)?"04184301878"!==(e=e.replace(/\D/g,""))?t("Cliente não encontrado em nossa base de dados!"):o(new m("041.843.018-78","Dino da Silva Sauro","M","01/01/2000","Cirurgião-Dentista","dino@mt2015.com","CRO-1234","SC","0.000.001","SC","(48) 99999-9999","(48) 99999-9999")):t("O CPF deve ser um némero válido!")}))},e}(),h=(function(){function e(){}e.prototype.salvar=function(e){return this.dados=e,new Promise((function(o,t){e.nome?o(e):t("O cliente não pode ser salvo!")}))},e.prototype.consultar=function(e){return new Promise((function(o,t){s(e)?(e=e.replace(/\D/g,""),o(new m("041.843.018-78","Dino da Silva Sauro","M","01/01/2000","Cirurgião-Dentista","dino@mt2015.com","CRO-1234","SC","0.000.001","SC","(48) 99999-9999","(48) 99999-9999"))):t("O CPF deve ser um némero válido!")}))}}(),function(){function e(e,o,t,n,r,a,i,l){e&&(this.cep=e),o&&(this.rua=o),t&&(this.bairro=t),n&&(this.cidade=n),r&&(this.uf=r),i&&(this.telefone=i),a&&(this.numero=a),l&&(this.complemento=l)}return Object.defineProperty(e.prototype,"cep",{get:function(){var e;return null!==(e=this._cep)&&void 0!==e?e:""},set:function(e){if(!u(e))throw Error("Endereço Inválido: o cep deve ser um número válido! Ex: 88100-000");this._cep=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rua",{get:function(){var e;return null!==(e=this._rua)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Endereço Inválido: a rua do endereço é obrigatório!");this._rua=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bairro",{get:function(){var e;return null!==(e=this._bairro)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Endereço Inválido: o bairro do endereço é obrigatário!");this._bairro=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cidade",{get:function(){var e;return null!==(e=this._cidade)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Endereço Inválido: a cidade do endereço é obrigatário!");this._cidade=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uf",{get:function(){var e;return null!==(e=this._uf)&&void 0!==e?e:""},set:function(e){if(!e)throw Error("Endereço Inválido: a uf do endereço é obrigatário!");if(!p(e))throw Error("Endereço Inválido: a uf do endereço deve ser uma sigla válida! Ex: SP, RJ, MG, etc.");this._uf=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"telefone",{get:function(){var e;return null!==(e=this._telefone)&&void 0!==e?e:""},set:function(e){if(e&&!d(e))throw Error("Endereço Inválido: o telefone deve ser um número válido!");this._telefone=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numero",{get:function(){var e;return null!==(e=this._numero)&&void 0!==e?e:""},set:function(e){this._numero=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"complemento",{get:function(){var e;return null!==(e=this._complemento)&&void 0!==e?e:""},set:function(e){this._complemento=e},enumerable:!1,configurable:!0}),e}()),v=function(){function e(){this.dados=new h}return e.prototype.consultar=function(e){return new Promise((function(o,t){u(e)?fetch("https://viacep.com.br/ws/".concat(e,"/json/")).then((function(e){return e.json()})).then((function(e){if("erro"in e)t("CEP não encontrado na base de dados!");else{var n=new h(e.cep,e.logradouro,e.bairro,e.localidade,e.uf);o(n)}})).catch((function(e){return t("Erro ao buscar o endereço!")})):t("O Cep deve ser um número válido! Ex: 88100-000")}))},e}(),g=function(){function e(e,o,t,n,r,a,i,l,c,s,d){this.id=e,this.nome=o,this.preco=t,this.situacao=n,this.preco_promocional=a,this.descricao=r,this.imagem=i,this.link=l,this.categorias=c,this.marca=s,this.codigo_barras=d}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){if(!e)throw Error("Produto Inválido: o id do produto é obrigatório!");this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nome",{get:function(){return this._nome},set:function(e){if(!e)throw Error("Produto Inválido: o nome do produto é obrigatório!");this._nome=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preco",{get:function(){return this._preco},set:function(e){if(!e&&isNaN(e))throw Error("Produto Inválido: o preço do produto deve ser um número!");this._preco=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"situacao",{get:function(){return this._situacao},set:function(e){this._situacao=!!e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"preco_promocional",{get:function(){return this._preco_promocional},set:function(e){if(e&&isNaN(e))throw Error("Produto Inválido: o preço promocional do produto deve ser um número!");this._preco_promocional=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"personalizado",{get:function(){return this._nome.toLowerCase().indexOf("personalizad")>-1},enumerable:!1,configurable:!0}),e}(),b=function(){function e(){this.loja=this.disponiveis()[6],this.versao="1.01"}return e.instancia=function(){return e._instancia||(e._instancia=new e),e._instancia},e.prototype.disponiveis=function(){return[{nome:"teste",titulo:"Loja do GG2",url_base:"https://www.utilidadesclinicas.com.br/",estilos:"tema-ds.css",google_merchant:{url:"xml/teste.xml",filtros:null}},{nome:"uc",titulo:"Utilidades Clínicas",url_base:"https://www.utilidadesclinicas.com.br/",estilos:"tema-uc.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed.xml",filtros:null}},{nome:"dc",titulo:"Dental Cremer",url_base:"https://www.dentalcremer.com.br/",estilos:"tema-dc.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed_dc.xml",filtros:null}},{nome:"ds",titulo:"Dental Speed",url_base:"https://www.dentalspeed.com/",estilos:"tema-ds.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed_ds.xml",filtros:null}},{nome:"lovers_dc",titulo:"Lovers DC",url_base:"https://www.dentalcremer.com.br/",estilos:"tema-dc.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed_lovers_dc.xml",filtros:null}},{nome:"speeds_ds",titulo:"Speeds DS",url_base:"https://www.dentalspeed.com/",estilos:"tema-ds.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed_speeds_ds.xml",filtros:null}},{nome:"colgate",titulo:"Colgate",url_base:"https://www.dentalspeed.com/",estilos:"tema-colgate.css",google_merchant:{url:"https://gg2.com.br/xml/?feed=google_feed_colgate.xml",filtros:null}}]},e}(),y=function(){function e(){this._produtos=[],this._precos={minimo:0,maximo:0}}return e.prototype.listar=function(o){var r=this;return void 0===o&&(o=!1),o&&(e.CACHE.produtos=[]),new Promise((function(o){if(e.CACHE.produtos.length>0)return r._produtos=e.CACHE.produtos,void o(r._produtos);r._produtos=[];var a,i,l=b.instancia().loja;a=l.google_merchant.url,i=function(a){var i=(new DOMParser).parseFromString(a,"text/xml");Array.from(i.querySelectorAll("item")).forEach((function(e){var o,a=n(e,"price"),i=n(e,"sale_price"),c=new g(n(e,"id"),n(e,"title"),t(a),"In Stock"===n(e,"availability"),n(e,"title"),t(i),n(e,"image_link"),n(e,"link"),n(e,"product_type").split(",")[0],n(e,"brand"),n(e,"gtin"));if(l.google_merchant.filtros){var s=(o=l.google_merchant.filtros.split("="))[0],d=o[1];c[s]==d&&r._produtos.push(c)}else r._produtos.push(c)})),r._produtos.length&&(e.CACHE.produtos=r._produtos),o(r._produtos)},fetch(a).then((function(e){return e.text()})).then(i).catch((function(e){return console.error("Erro ao carregar o arquivo XML:",e)}))}))},Object.defineProperty(e.prototype,"produtos",{get:function(){return this._produtos},set:function(e){this._produtos=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"faixaDePrecos",{get:function(){return this._precos},enumerable:!1,configurable:!0}),e.prototype.adicionarFiltro=function(e,o,t){if(t)if(e.has(o)){var n=e.get(o);n.find((function(e){return e===t}))||n.push(t)}else e.set(o,[t])},e.prototype.filtraProdutos=function(e,o,t){return this.produtos.filter((function(n){return"==="===t?n[e]===o:"contem"===t&&n[e].toLowerCase().includes(o.toLowerCase())}))},e.prototype.filtrarPorCategoria=function(e){return this.filtraProdutos("categorias",e,"===")},e.prototype.filtrarPorMarca=function(e){return this.filtraProdutos("marca",e,"===")},e.prototype.filtrarPorCodigoBarra=function(e){return this.filtraProdutos("codigo_barras",e,"===")},e.prototype.filtrarPorSku=function(e){return this.filtraProdutos("id",e,"contem")},e.prototype.filtrarPorNome=function(e){return this.filtraProdutos("nome",e,"contem")},e.prototype.filtrarPorPreco=function(e,o){return this.produtos.filter((function(t){return t.preco>=e&&t.preco<=o}))},e.prototype.consultar=function(o){return e.CACHE.produtos.find((function(e){return e.id===o}))},e.prototype.filtros=function(){for(var o=new Map,t=0,n=e.CACHE.produtos;t<n.length;t++){var r=n[t];this.adicionarFiltro(o,"categorias",r.categorias),this.adicionarFiltro(o,"marca",r.marca),this._precos.minimo>r.preco&&(this._precos.minimo=r.preco),this._precos.maximo<r.preco&&(this._precos.maximo=r.preco)}return e.CACHE.filtros=o,o},e.CACHE={produtos:[],filtros:new Map},e}(),_=function(){function e(e,o,t,n){this.elemento=e,this.apiCliente=o,this.notificacao=t,this.carregando=n,this.ID="dados-do-cliente"}return e.prototype.preencheDados=function(e){this.elemento.querySelector("#cliente-documento").value=e.documento,this.elemento.querySelector("#cliente-nome").value=e.nome,this.elemento.querySelector("#cliente-sexo").value=e.sexo,this.elemento.querySelector("#cliente-data_nascimento").value=e.data_nascimento,this.elemento.querySelector("#cliente-profissao").value=e.profissao,this.elemento.querySelector("#cliente-email").value=e.email,this.elemento.querySelector("#cliente-registro").value=e.registro,this.elemento.querySelector("#cliente-registro_uf").value=e.registro_uf,this.elemento.querySelector("#cliente-rg").value=e.rg,this.elemento.querySelector("#cliente-rg_uf").value=e.rg_uf,this.elemento.querySelector("#cliente-telefone").value=e.telefone,this.elemento.querySelector("#cliente-celular").value=e.celular},e.prototype.pegaDados=function(){var e,o,t,n,r,a,i,l,c,s,d,u,p=this.apiCliente.dados;return p.documento=null===(e=this.elemento.querySelector("#cliente-documento"))||void 0===e?void 0:e.value,p.nome=null===(o=this.elemento.querySelector("#cliente-nome"))||void 0===o?void 0:o.value,p.sexo=null===(t=this.elemento.querySelector("#cliente-sexo"))||void 0===t?void 0:t.value,p.data_nascimento=null===(n=this.elemento.querySelector("#cliente-data_nascimento"))||void 0===n?void 0:n.value,p.profissao=null===(r=this.elemento.querySelector("#cliente-profissao"))||void 0===r?void 0:r.value,p.email=null===(a=this.elemento.querySelector("#cliente-email"))||void 0===a?void 0:a.value,p.registro=null===(i=this.elemento.querySelector("#cliente-registro"))||void 0===i?void 0:i.value,p.registro_uf=null===(l=this.elemento.querySelector("#cliente-registro_uf"))||void 0===l?void 0:l.value,p.rg=null===(c=this.elemento.querySelector("#cliente-rg"))||void 0===c?void 0:c.value,p.rg_uf=null===(s=this.elemento.querySelector("#cliente-rg_uf"))||void 0===s?void 0:s.value,p.telefone=null===(d=this.elemento.querySelector("#cliente-telefone"))||void 0===d?void 0:d.value,p.celular=null===(u=this.elemento.querySelector("#cliente-celular"))||void 0===u?void 0:u.value,p},e.prototype.mostrar=function(){var e,o,t,n,r,i,l,c,s,d,u,p,m=this;null===(e=this.elemento.querySelector("#"+this.ID))||void 0===e||e.remove();var f=a("div",["row"],[{nome:"id",valor:this.ID}]),h=this.apiCliente.dados;f.innerHTML='\n                <h3 class="h4 mb-3 fw-normal">Cadastro de cliente</h3>\n                <div class="mb-3 col-sm-4 col-md-3">\n                    <label class="form-label" for="cliente-documento">Documento</label>\n                    <input class="form-control" type="text" id="cliente-documento" value="'.concat(null!==(o=null==h?void 0:h.documento)&&void 0!==o?o:"",'" maxlength="15" />\n                </div>\n                <div class="mb-3  col-sm-8 col-md-7">\n                    <label class="form-label" for="cliente-nome">Nome</label>\n                    <input class="form-control" type="text" id="cliente-nome" value="').concat(null!==(t=null==h?void 0:h.nome)&&void 0!==t?t:"",'" max="100" />\n                </div>\n                <div class="mb-3 col-sm-4 col-md-2">\n                    <label class="form-label" for="cliente-sexo">Sexo</label>\n                    <select class="form-select" id="cliente-sexo">\n                        <option value="M" ').concat("M"===(null==h?void 0:h.sexo)?"selected":"",'>Masculino</option>\n                        <option value="F" ').concat("F"===(null==h?void 0:h.sexo)?"selected":"",'>Feminino</option>\n                    </select>\n                </div>\n                <div class="mb-3 col-sm-4 col-md-2">\n                    <label class="form-label" for="cliente-data_nascimento">Data Nascimento</label>\n                    <input class="form-control" type="text" id="cliente-data_nascimento" maxlength="10" value="').concat(null!==(n=null==h?void 0:h.data_nascimento)&&void 0!==n?n:"",'" />\n                </div>\n                <div class="mb-3 col-sm-4 col-md-3">\n                    <label class="form-label" for="cliente-profissao">Profissão</label>\n                    <select class="form-select" id="cliente-profissao">\n                        <option value="Cirurgião-Dentista" ').concat("Cirurgião-Dentista"===(null==h?void 0:h.profissao)?"selected":"",'>Cirurgião-Dentista</option>\n                        <option value="Clínica Odontológica" ').concat("Clínica Odontológica"===(null==h?void 0:h.profissao)?"selected":"",'>Clínica Odontológica</option>\n                    </select>\n                </div>\n                <div class="mb-3 col-sm-3 col-md-2">\n                    <label class="form-label" for="cliente-registro">Registro</label>\n                    <input class="form-control" type="text" id="cliente-registro" maxlength="10" value="').concat(null!==(r=null==h?void 0:h.registro)&&void 0!==r?r:"",'" />\n                </div>\n                <div class="mb-3 col-sm-3 col-md-2">\n                    <label class="form-label" for="cliente-registro_uf">Registro UF</label>\n                    <input class="form-control" type="text" id="cliente-registro_uf" maxlength="2" value="').concat(null!==(i=null==h?void 0:h.registro_uf)&&void 0!==i?i:"",'" />\n                </div>\n                <div class="mb-3 col-sm-3 col-md-2">\n                    <label class="form-label" for="cliente-rg">RG</label>\n                    <input class="form-control" type="text" id="cliente-rg" maxlength="10" value="').concat(null!==(l=null==h?void 0:h.rg)&&void 0!==l?l:"",'" />\n                </div>\n                <div class="mb-3 col-sm-3 col-md-1">\n                    <label class="form-label" for="cliente-rg_uf">RG UF</label>\n                    <input class="form-control" type="text" id="cliente-rg_uf" maxlength="2" value="').concat(null!==(c=null==h?void 0:h.rg_uf)&&void 0!==c?c:"",'" />\n                </div>\n                <div class="mb-3 col-sm-3 col-md-3">\n                    <label class="form-label" for="cliente-telefone">Telefone</label>\n                    <input class="form-control" type="text" id="cliente-telefone" maxlength="15" value="').concat(null!==(s=null==h?void 0:h.telefone)&&void 0!==s?s:"",'" />\n                </div>\n                <div class="mb-3 col-sm-3 col-md-3">\n                    <label class="form-label" for="cliente-celular">Celular</label>\n                    <input class="form-control" type="text" id="cliente-celular" maxlength="15" value="').concat(null!==(d=null==h?void 0:h.celular)&&void 0!==d?d:"",'" />\n                </div>\n                <div class="mb-3 col-sm-6 col-md-6">\n                    <label class="form-label" for="cliente-email">E-mail</label>\n                    <input class="form-control" type="email" id="cliente-email" maxlength="100" value="').concat(null!==(u=null==h?void 0:h.email)&&void 0!==u?u:"",'" />\n                </div>\n            </div>\n        '),null===(p=f.querySelector("#cliente-documento"))||void 0===p||p.addEventListener("change",(function(e){var o=e.target.value;11===o.length&&(m.carregando.mostrar(),m.apiCliente.consultar(o).then((function(e){m.preencheDados(e)})).catch((function(e){return m.notificacao.mostrar("Erro",e,"danger")})).finally((function(){return m.carregando.esconder()})))})),this.elemento.appendChild(f)},e}(),P=function(){function e(e,o,t){this.apiCliente=e,this.notificacao=o,this.carregando=t}return e.prototype.conteudo=function(){var e=this,o=a("form"),t=new _(o,this.apiCliente,this.notificacao,this.carregando);t.mostrar();var n=a("button",["btn","btn-primary"],[{nome:"type",valor:"submit"}],"SALVAR");return o.addEventListener("submit",(function(o){o.preventDefault(),e.carregando.mostrar();try{var n=t.pegaDados();e.apiCliente.salvar(n).then((function(){e.notificacao.mostrar("Sucesso","Os Dados do Cliente ".concat(n.nome," Foram Salvos!"),"success")})).catch((function(o){return e.notificacao.mostrar("Erro",o,"danger")})).finally((function(){return e.carregando.esconder()}))}catch(o){e.notificacao.mostrar("Erro",o,"danger"),e.carregando.esconder()}})),o.append(n),o},e}(),C=function(){function e(e,o,t,n){this.elemento=e,this.apiCep=o,this.notificacao=t,this.carregando=n,this.ID="dados-do-endereco"}return e.prototype.preencheDados=function(e){this.elemento.querySelector("#endereco-cep").value=e.cep,this.elemento.querySelector("#endereco-rua").value=e.rua,this.elemento.querySelector("#endereco-bairro").value=e.bairro,this.elemento.querySelector("#endereco-cidade").value=e.cidade,this.elemento.querySelector("#endereco-uf").value=e.uf,this.elemento.querySelector("#endereco-numero").value=e.numero,this.elemento.querySelector("#endereco-complemento").value=e.complemento},e.prototype.pegaDados=function(){var e,o,t,n,r,a,i,l,c=this.apiCep.dados;return c.cep=null===(e=this.elemento.querySelector("#endereco-cep"))||void 0===e?void 0:e.value,c.rua=null===(o=this.elemento.querySelector("#endereco-rua"))||void 0===o?void 0:o.value,c.bairro=null===(t=this.elemento.querySelector("#endereco-bairro"))||void 0===t?void 0:t.value,c.cidade=null===(n=this.elemento.querySelector("#endereco-cidade"))||void 0===n?void 0:n.value,c.uf=null===(r=this.elemento.querySelector("#endereco-uf"))||void 0===r?void 0:r.value,c.numero=null===(a=this.elemento.querySelector("#endereco-numero"))||void 0===a?void 0:a.value,c.complemento=null===(i=this.elemento.querySelector("#endereco-complemento"))||void 0===i?void 0:i.value,c.telefone=null===(l=this.elemento.querySelector("#endereco-telefone"))||void 0===l?void 0:l.value,c},e.prototype.mostrar=function(){var e,o,t,n,r,i,l,c,s,d,u=this;null===(e=this.elemento.querySelector("#"+this.ID))||void 0===e||e.remove();var p=a("div",["row"],[{nome:"id",valor:this.ID}]),m=this.apiCep.dados;p.innerHTML='\n                <h3 class="h4 mb-3 fw-normal">Endereço de Entrega</h3>\n                <div class="col-sm-2 mb-3">\n                    <label class="form-label" for="endereco-cep">CEP</label>\n                    <input class="form-control" type="text" id="endereco-cep" maxlength="9" value="'.concat(null!==(o=null==m?void 0:m.cep)&&void 0!==o?o:"",'" />\n                </div>\n                <div class="col-sm-5 mb-3">\n                    <label class="form-label" for="endereco-rua">Rua</label>\n                    <input class="form-control" type="text" id="endereco-rua" maxlength="100" value="').concat(null!==(t=null==m?void 0:m.rua)&&void 0!==t?t:"",'" />\n                </div>\n                <div class="col-sm-2 mb-3">\n                    <label class="form-label" for="endereco-numero">Número</label>\n                    <input class="form-control" type="text" id="endereco-numero" maxlength="20" value="').concat(null!==(n=null==m?void 0:m.numero)&&void 0!==n?n:"",'" />\n                </div>\n                <div class="col-sm-3 mb-3">\n                    <label class="form-label" for="endereco-complemento">Complemento</label>\n                    <input class="form-control" type="text" id="endereco-complemento" maxlength="50" value="').concat(null!==(r=null==m?void 0:m.complemento)&&void 0!==r?r:"",'" />\n                </div>\n                <div class="col-sm-4 mb-3">\n                    <label class="form-label" for="endereco-bairro">Bairro</label>\n                    <input class="form-control" type="text" id="endereco-bairro" maxlength="100" value="').concat(null!==(i=null==m?void 0:m.bairro)&&void 0!==i?i:"",'" />\n                </div>\n                <div class="col-sm-4 mb-3">\n                    <label class="form-label" for="endereco-cidade">Cidade</label>\n                    <input class="form-control" type="text" id="endereco-cidade" maxlength="100" value="').concat(null!==(l=null==m?void 0:m.cidade)&&void 0!==l?l:"",'" />\n                </div>\n                <div class="col-sm-1 mb-3">\n                    <label class="form-label" for="endereco-uf">UF</label>\n                    <input class="form-control" type="text" id="endereco-uf" maxlength="2" value="').concat(null!==(c=null==m?void 0:m.uf)&&void 0!==c?c:"",'" />\n                </div>\n                <div class="col-sm-3 mb-3">\n                    <label class="form-label" for="endereco-telefone">Telefone</label>\n                    <input class="form-control" type="text" id="endereco-telefone" maxlength="15" value="').concat(null!==(s=null==m?void 0:m.telefone)&&void 0!==s?s:"",'" />\n                </div>\n        '),null===(d=p.querySelector("#endereco-cep"))||void 0===d||d.addEventListener("change",(function(e){var o=e.target.value;o.length>=8&&o.length<=9&&(u.carregando.mostrar(),u.apiCep.consultar(o).then((function(e){u.preencheDados(e)})).catch((function(e){return u.notificacao.mostrar("Erro",e,"danger")})).finally((function(){return u.carregando.esconder()})))})),this.elemento.appendChild(p)},e}(),S=function(){function e(e,o,t){this.apiCep=e,this.notificacao=o,this.carregando=t}return e.prototype.conteudo=function(){var e=this,o=a("form"),t=new C(o,this.apiCep,this.notificacao,this.carregando);t.mostrar();var n=a("button",["btn","btn-primary"],[{nome:"type",valor:"submit"}],"SALVAR");return o.addEventListener("submit",(function(o){o.preventDefault(),e.carregando.mostrar();try{var n=t.pegaDados();e.notificacao.mostrar("Sucesso","Os Dados do Endereço ".concat(n.cep," Foram Salvos!"),"success")}catch(o){e.notificacao.mostrar("Erro",o,"danger")}e.carregando.esconder()})),o.append(n),o},e}(),w=function(){function e(){this.numeroItensPorPagina=20,this.paginaAtual=1,this.ultimaPagina=1,this.itens=[]}return e.prototype.temProximaPagina=function(){return this.paginaAtual<this.ultimaPagina},e.prototype.proximaPagina=function(){this.temProximaPagina()&&this.paginaAtual++,this.atualizaHtmlItens(this.paginaAtual)},e.prototype.temPaginaAnterior=function(){return this.paginaAtual>1},e.prototype.paginaAnterior=function(){this.temPaginaAnterior()&&this.paginaAtual--,this.atualizaHtmlItens(this.paginaAtual)},e.prototype.temPaginacao=function(){return this.ultimaPagina=Math.ceil(this.itens.length/this.numeroItensPorPagina),this.ultimaPagina>1},e.prototype.paginaNumero=function(e){this.ultimaPagina>=e&&e>0&&(this.paginaAtual=e),this.atualizaHtmlItens(this.paginaAtual)},e.prototype.itensPaginado=function(){if(!this.temPaginacao())return this.itens;for(var e=[],o=this.itens,t=this.paginaAtual*this.numeroItensPorPagina-this.numeroItensPorPagina,n=t+this.numeroItensPorPagina,r=t;r<n;r++)null!=o[r]&&e.push(o[r]);return e},e.prototype.htmlPaginacaoBotaoVoltar=function(){var e=this,o=a("li",["page-item","disabled"]),t=a("a",["page-link"],[{nome:"href",valor:"#"}],"Voltar");return this.temPaginaAnterior()&&(o.classList.remove("disabled"),t.addEventListener("click",(function(){return e.paginaAnterior()}))),o.appendChild(t),o},e.prototype.htmlPaginacaoBotaoAvancar=function(){var e=this,o=a("li",["page-item","disabled"]),t=a("a",["page-link"],[{nome:"href",valor:"#"}],"Avançar");return this.temProximaPagina()&&(o.classList.remove("disabled"),t.addEventListener("click",(function(){return e.proximaPagina()}))),o.appendChild(t),o},e.prototype.htmlPaginacaoPorNumero=function(){var e=this,o=a("li",["page-item"]);if(this.ultimaPagina<2)return o;for(var t=a("select",["page-link"],[{nome:"name",valor:"paginacao-por-numeros"}]),n=1;n<=this.ultimaPagina;n++){var r=[{nome:"value",valor:String(n)}],i=a("option",[],r,String(n));n===this.paginaAtual&&i.setAttribute("selected","selected"),t.appendChild(i)}return t.addEventListener("change",(function(o){return e.paginaNumero(parseInt(o.target.value))})),o.appendChild(t),o},e.prototype.htmlPaginacao=function(){var e=document.getElementById("lista-de-produtos-paginacao");if(e?e.innerHTML="":e=a("div",["lista-de-produtos-paginacao","row","pt-3","pb-3"],[{nome:"id",valor:"lista-de-produtos-paginacao"}]),!this.temPaginacao())return e;var o=a("nav",[],[{nome:"aria-label",valor:"Page navigation example"}]),t=a("ul",["pagination","justify-content-center"]);return t.appendChild(this.htmlPaginacaoBotaoVoltar()),t.appendChild(this.htmlPaginacaoPorNumero()),t.appendChild(this.htmlPaginacaoBotaoAvancar()),o.appendChild(t),e.appendChild(o),e},e.prototype.conteudo=function(){var e=a("main");return e.appendChild(this.htmlItens()),e.appendChild(this.htmlPaginacao()),e},e}(),x=function(){function e(e,o){this.elemento=e,this.produto=o,this.ID="produto-id-"}return e.prototype.preencheQuantidade=function(e){var o,t=this.produto;this.elemento.querySelector("#".concat(this.ID,"quantidade-").concat(t.id)).value=String(null!=e?e:"1");var n=this.elemento.querySelector("#produto-id-".concat(t.id," .card"));null===(o=n.querySelector(".label-item-adicionado"))||void 0===o||o.remove(),n.append(this.seloProdutoAdicionado())},e.prototype.pegaQuantidade=function(){var e=this.elemento.querySelector("#".concat(this.ID,"quantidade-").concat(this.produto.id));return parseInt(e.value)},e.prototype.seloProdutoAdicionado=function(){return a("span",["label-item-adicionado"],[],"Adicionado ao carrinho")},e.prototype.mostrar=function(e){var o;null===(o=this.elemento.querySelector("#"+this.ID))||void 0===o||o.remove();var t=this.produto,n=r(t.preco),i=a("div",["col"]);i.setAttribute("id","".concat(this.ID).concat(t.id)),i.innerHTML='<div class="card">\n        <img height="200" width="200" src="'.concat(t.imagem,'" alt="').concat(t.nome,'" class="card-img-top img-fluid img-thumbnail" />\n        <div class="card-body">\n          <h2 class="card-title">').concat(t.nome,'</h2>\n          <p class="card-text fs-6">\n            SKU: ').concat(t.id,"<br/>").concat(t.descricao,'\n          </p>\n          <div class="card-footer">\n            <h3 class="price">R$ ').concat(n,' </h3>\n            <form class="row row-cols-lg-auto g-3 align-items-center">\n                <div class="linha-acao mb-3">\n                    <input id="').concat(this.ID,"quantidade-").concat(t.id,'"\n                        type="number" step="1" min="1" max="100"\n                        aria-label="Quantidade" class="form-control ').concat(t.situacao?"":"disabled",'"\n                        value="1" />\n                    <button class="input-group-text botao-adicionar ').concat(t.situacao?"":"disabled",'">\n                        ').concat(t.situacao?"Adicionar":"Esgotado :(","\n                    </button>\n                </div>\n            </form>\n          </div>\n        </div>\n    </div>"),i.querySelector(".botao-adicionar").addEventListener("click",e),this.elemento.appendChild(i)},e}(),D=(e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},e(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e){function o(o,t,n){var r=e.call(this)||this;return r.apiProduto=o,r.carrinho=t,r.carregando=n,r._filtroAtraso=500,r}return D(o,e),o.prototype.pegaDadosDosProdutos=function(){var e=this;this.carregando.mostrar(),this.apiProduto.listar(!1).then((function(o){e.itens=o,e.atualizaHtmlItens(1),e.htmlFiltrosDosProdutos()})).finally((function(){return e.carregando.esconder()}))},o.prototype.adicionar=function(e){var o="";if(!e.produto.personalizado||(o=window.prompt("Informe a personalizacao: ","Linha1: [] | Linha2: []"))){var t=e.pegaQuantidade();this.carrinho.adicionarProduto(e.produto,t,!1,o),e.preencheQuantidade(t),this.atualizarQuantidadeDeItensNoCarrinho()}},o.prototype.seletorFiltroDoProdutoPorAtributo=function(e,o,t){var n=this,r=a("select",["form-select"],[{nome:"name",valor:"filtro-".concat(e)}]),i=a("option",[],[{nome:"value",valor:""},{nome:"label",valor:o}]);r.appendChild(i);var l=this.apiProduto.filtros();if(!l.has(e))return r;var c=l.get(e);return c.sort((function(e,o){return e.localeCompare(o)})),c.map((function(e){var o=a("option",[],[{nome:"value",valor:e},{nome:"label",valor:e}]);r.appendChild(o)})),r.addEventListener("change",(function(e){e.preventDefault(),n.itens=n.apiProduto[t](e.target.value),n.atualizaHtmlItens(1)})),r},o.prototype.campoFiltroDoProdutoPorAtributo=function(e,o,t){var n,r=this,i=a("input",[],[{nome:"name",valor:"filtro-".concat(e)},{nome:"type",valor:"text"},{nome:"placeholder",valor:"Digite o ".concat(o," do produto")}]);return i.addEventListener("input",(function(e){e.preventDefault(),n&&clearTimeout(n),n=setTimeout((function(){r.itens=r.apiProduto[t](e.target.value),r.atualizaHtmlItens(1)}),r._filtroAtraso)})),i},o.prototype.filtroPorPreco=function(){var e,o=this,t=this.apiProduto.faixaDePrecos,n=a("div",["input-group","mb-4"]),i=a("input",["form-control"],[{nome:"name",valor:"filtro-faixa-de-preco"},{nome:"type",valor:"range"},{nome:"step",valor:"0.5"},{nome:"min",valor:String(t.minimo)},{nome:"max",valor:String(t.maximo)},{nome:"value",valor:String(t.maximo)}]),l=a("span",["input-group-text"],[],"Max: "+r(t.maximo));return i.addEventListener("input",(function(t){t.preventDefault(),t.preventDefault(),e&&clearTimeout(e),e=setTimeout((function(){var e=parseFloat(t.target.value);l.textContent="Max: "+r(e),o.itens=o.apiProduto.filtrarPorPreco(0,e),o.atualizaHtmlItens(1)}),o._filtroAtraso)})),n.appendChild(i),n.appendChild(l),n},o.prototype.botaoListarRemoverFiltro=function(){var e=this,o=a("button",["btn","btn-info"],[],"Listar todos os produtos");return o.addEventListener("click",(function(o){o.preventDefault(),e.apiProduto.produtos.length>e.itens.length&&e.pegaDadosDosProdutos()})),o},o.prototype.htmlFiltrosDosProdutos=function(){var e=document.getElementById("lista-de-produtos-filtros");e?e.innerHTML="":e=a("form",["lista-de-produtos-filtros","row","g-3","align-items-center"],[{nome:"id",valor:"lista-de-produtos-filtros"}]);var o=a("div",["col-12","filtros-campo","pt-3","pb-3"]),t=a("h2",["filtros-titulo"],[],"Filtros");return o.appendChild(t),o.appendChild(this.campoFiltroDoProdutoPorAtributo("codigo-de-barras","Código de Barras","filtrarPorCodigoBarra")),o.appendChild(this.campoFiltroDoProdutoPorAtributo("sku","SKU","filtrarPorSku")),o.appendChild(this.campoFiltroDoProdutoPorAtributo("nome","Nome","filtrarPorNome")),o.appendChild(this.seletorFiltroDoProdutoPorAtributo("marca","Marca","filtrarPorMarca")),o.appendChild(this.seletorFiltroDoProdutoPorAtributo("categorias","Categoria","filtrarPorCategoria")),o.appendChild(this.filtroPorPreco()),o.appendChild(this.botaoListarRemoverFiltro()),e.appendChild(o),e},o.prototype.htmlCartoesDosProdutos=function(){var e=this,o=document.getElementById("lista-de-produtos");o?o.innerHTML="":o=a("div",["lista-de-produtos","row","row-cols-2","row-cols-xs-2","row-cols-sm-3","row-cols-md-3","row-cols-xl-4","g-4"],[{nome:"id",valor:"lista-de-produtos"}]);var t=this.itensPaginado();return t.length<1?(o.appendChild(a("div",["col","text-center"],[],"Nenhum produto encontrado")),o):(t.map((function(t){var n=e.carrinho.produtos.find((function(e){return e.produto.id===t.id})),r=new x(o,t);r.mostrar((function(o){o.preventDefault(),e.adicionar(r)})),(null==n?void 0:n.quantidade)&&r.preencheQuantidade(n.quantidade)})),o)},o.prototype.atualizaHtmlItens=function(e){this.paginaAtual=e,this.htmlCartoesDosProdutos(),this.atualizarQuantidadeDeItensNoCarrinho(),this.htmlPaginacao()},o.prototype.htmlItens=function(){var e=a("main",["listagem-de-produtos"]);return e.appendChild(this.htmlFiltrosDosProdutos()),e.appendChild(this.htmlCartoesDosProdutos()),e},o.prototype.atualizarQuantidadeDeItensNoCarrinho=function(){var e,o=a("span",["label-quantidade"],[],String(this.carrinho.produtos.length)),t=document.getElementById("menu-carrinho");null===(e=t.querySelector(".label-quantidade"))||void 0===e||e.remove(),t.appendChild(o)},o}(w),q=function(){function e(e,o){this.carrinho=e,this.notificacao=o}return e.prototype.atualizar=function(e){var o=document.getElementById("quantidade-".concat(e.id)),t=1;o&&(t=parseInt(o.value)),this.carrinho.adicionarProduto(e,t,!0),this.notificacao.mostrar("Sucesso","Produto ".concat(e.id," foi atualizado com sucesso!"),"success"),this.htmlListaDeProdutos()},e.prototype.remover=function(e){this.carrinho.removerProduto(e),this.notificacao.mostrar("Sucesso","Produto ".concat(e.id," foi removido com sucesso!"),"success"),this.htmlListaDeProdutos()},e.prototype.htmlListaDeProdutosComprados=function(){var e=this,o=a("div");return this.carrinho.produtos.map((function(t){var n=t.produto,i=r(t.preco_unitario),l=r(n.preco),c=a("div",["col-12"]);c.setAttribute("id","produto-id-".concat(n.id)),c.innerHTML='<div class="card shadow-sm">\n<div class="row g-0">\n    <div class="col-sm-4 col-md-2">\n        <img height="100" src="'.concat(n.imagem,'" alt="').concat(n.nome,'" class="card-img-top img-fluid img-thumbnail" />\n    </div>\n    <div class="col-sm-8 col-md-10">\n        <div class="card-body">\n          <h2 class="card-title fs-5">').concat(n.nome,'</h2>\n          <p class="card-text fs-6">').concat(t.personalizacao.replace(" | ","<br/>"),'</p>\n          \n          <div class="card-footer">\n            ').concat('<h3 class="text-center fs-5">'.concat(n.preco>t.preco_unitario?"De: R$ "+l+" / Por:":""," R$ ").concat(i,'</h3>\n            <form class="row row-cols-lg-auto g-3 align-items-center">\n            <div class="input-group mb-3">\n              <input id="quantidade-').concat(n.id,'" class="form-control" type="number" step="1" min="1" max="100" value="').concat(t.quantidade,'" aria-label="Quantidade" />\n              <button class="input-group-text botao-atualizar"><i class="bi bi-arrow-clockwise"></i></button>\n              <button class="input-group-text botao-remover"><i class="bi bi-x-lg"></i></button>\n            </div>\n            </form>'),"\n          </div>\n        </div>\n    </div>\n</div>"),c.querySelector(".botao-atualizar").addEventListener("click",(function(){return e.atualizar(n)})),c.querySelector(".botao-remover").addEventListener("click",(function(){return e.remover(n)})),o.appendChild(c)})),o},e.prototype.htmlListaDeProdutosBrindes=function(){var e=a("div");return this.carrinho.brindes.map((function(o){var t=a("div",["col-12"]);t.setAttribute("id","produto-id-".concat(o.id)),t.innerHTML='<div class="card shadow-sm">\n<div class="row g-0 bg-info">\n    <div class="col-sm-4 col-md-2">\n        <img height="100" src="'.concat(o.imagem,'" alt="').concat(o.nome,'" class="card-img-top img-fluid img-thumbnail" />\n    </div>\n    <div class="col-sm-8 col-md-10">\n        <div class="card-body">\n          <h2 class="card-title fs-5">').concat(o.nome,'</h2>\n          <p class="card-text fs-6">').concat(o.descricao,'</p>\n          <div class="card-footer">\n            <h3 class="text-center fs-5">BRINDE</h3>\n          </div>\n        </div>\n    </div>\n</div>'),e.appendChild(t)})),e},e.prototype.htmlListaDeProdutos=function(){var e=document.getElementById("lista-de-compras");if(e?e.innerHTML="":e=a("div",["lista-de-compras","row"],[{nome:"id",valor:"lista-de-compras"}]),this.carrinho.produtos.length<1)return e.innerHTML='<div class="bg-body-tertiary p-5 rounded mt-3">\n    <h2>Seu carrinho de compras está vazio.</h2>\n    <p class="lead">Adicione produtos a sua lista de compras!</p>\n  </div>',e;var o=a("h1",["text-center","col-12"]);return o.innerHTML="Total: R$ ".concat(r(this.carrinho.totalizador.valor_total)),e.appendChild(o),e.appendChild(this.htmlListaDeProdutosBrindes()),e.appendChild(this.htmlListaDeProdutosComprados()),e},e.prototype.conteudo=function(){var e=a("main");return e.appendChild(this.htmlListaDeProdutos()),e},e}(),A=function(){function e(e){this.vendedor=e}return e.prototype.conteudo=function(){var e,o=a("main");return o.innerHTML='<form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto">\n    <h2>Bem vindo '.concat(null===(e=this.vendedor)||void 0===e?void 0:e.nome,'!</h2>\n    <p class="lead">Adicione produtos a sua lista de compras!</p>\n  </div>'),o},e}(),I=function(){function e(e,o,t){this.apiProduto=e,this.notificacao=o,this.carregando=t,this._configuracoes=b.instancia()}return e.prototype.pegaDadosDoFormulario=function(e){var o,t,n=null===(o=e.querySelector("#loja"))||void 0===o?void 0:o.value;return this._configuracoes.loja=this._configuracoes.disponiveis()[n],this._configuracoes.versao=null===(t=e.querySelector("#versao"))||void 0===t?void 0:t.value,this._configuracoes},e.prototype.conteudo=function(){var e=this,o=a("main",["row"]);o.innerHTML='\n            <form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto">\n                <h1 class="h3 mb-3 fw-normal">Configurações do Sistema</h1>\n                <div class="mb-3">\n                    <label class="form-label" for="loja">Loja</label>\n                    <select id="loja" class="form-select"></select>\n                </div>\n                <div class="mb-3">\n                    <label class="form-label" for="versao">Versão</label>\n                    <input class="form-control" type="text" id="versao" maxlength="10" value="'.concat(this._configuracoes.versao,'" />\n                </div>\n                <button type="submit" class="btn btn-primary">SALVAR</button>\n            </form>\n        ');var t=o.querySelector("#loja"),n=this._configuracoes.loja;this._configuracoes.disponiveis().forEach((function(e,o){var r=[{nome:"value",valor:String(o)},{nome:"label",valor:e.titulo}],i=a("option",[],r);n.titulo===e.titulo&&i.setAttribute("selected","selected"),t.appendChild(i)}));var r=o.querySelector("form");return r.addEventListener("submit",(function(o){o.preventDefault(),e.carregando.mostrar();try{e.pegaDadosDoFormulario(r),e.apiProduto.listar(!0).then((function(){e.notificacao.mostrar("Sucesso","Suas Confiruações Foram Atualizadas!","success")})).finally((function(){return e.carregando.esconder()}))}catch(o){e.notificacao.mostrar("Erro","Não foi possivel salvar a configuração! ".concat(o),"danger"),e.carregando.esconder()}})),o},e}(),L=function(e,o,t,n,r){this.nome=e,this.login=o,this.senha=t,this.esta_ativo=n,this.administrador=r},O=function(){function e(){}return e.prototype.autenticar=function(e,o){var t=this;return new Promise((function(n,r){"gg2"===e&&"gg2"===o&&(t.vendedor=new L("Dino da Silva Sauro",e,"",!0,!0)),"teste"===e&&"teste"===o&&(t.vendedor=new L("Usuário de Teste HSB",e,"",!0,!1)),void 0!==t.vendedor&&t.vendedor.esta_ativo?n(t.vendedor):r("Login e Senha Inválidos!")}))},e.prototype.estaLogado=function(){return void 0!==this.vendedor&&this.vendedor.esta_ativo},e.prototype.ehAdministrador=function(){return void 0!==this.vendedor&&this.vendedor.administrador},e}(),M=function(){function e(e,o){this.apiVendedor=e,this.notificacao=o}return e.prototype.conteudo=function(){var e=this,o=a("main");o.innerHTML='<form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto text-center form-login" autocomplete="off">\n    <h1 class="h3 mb-3 fw-normal">FAÇA O LOGIN</h1>\n    <div class="form-floating mb-3">\n      <input type="text" class="form-control" id="login" placeholder="Login">\n      <label for="login">Login</label>\n    </div>\n    <div class="form-floating mb-3">\n      <input type="password" class="form-control" id="senha" placeholder="Senha">\n      <label for="senha">Senha</label>\n    </div>\n\n    <div class="form-check text-start my-3">\n      <input class="form-check-input" type="checkbox" value="lembrar-senha" id="lembrar-senha">\n      <label class="form-check-label" for="lembrar-senha">Salvar senha</label>\n    </div>\n    <button class="btn btn-primary w-100 py-2" type="submit">ENTRAR</button>\n  </form>';var t=o.querySelector("form");return t.addEventListener("submit",(function(o){var n,r;o.preventDefault();var a=null===(n=t.querySelector("#login"))||void 0===n?void 0:n.value,i=null===(r=t.querySelector("#senha"))||void 0===r?void 0:r.value;a.length&&i.length&&e.apiVendedor.autenticar(a,i).then((function(e){document.dispatchEvent(new CustomEvent("autenticacao",{detail:e}))})).catch((function(o){e.notificacao.mostrar("Error",o,"danger")}))})),o},e}(),R=function(){function e(e){this.elemento=e,this.ID="mensagens-de-notificacao"}return e.prototype.mostrar=function(e,o,t){var n=this,r=a("div",["toast-container","position-fixed","toast-h-center","p-3"],[{nome:"id",valor:this.ID}]);r.innerHTML='\n          <div class="toast show '.concat(t,'" role="alert" aria-live="assertive" aria-atomic="true">\n            <div class="toast-body">\n              ').concat(o,"\n            </div>\n          </div>"),this.elemento.appendChild(r),setTimeout((function(){n.esconder()}),4e3)},e.prototype.esconder=function(){var e=this.elemento.querySelector("#".concat(this.ID));e&&e.remove()},e}(),j=function(){function e(e){this.elemento=e,this.mostrou=!1,this.ID="barra-de-carregamento",this.TEMPO_DE_ESPERA=3e4}return e.prototype.mostrar=function(){var e=this;this.mostrou=!0;var o=a("div",["align-items-center","position-fixed","top-50","start-50","p-3"],[{nome:"id",valor:this.ID}]);o.innerHTML='<strong>Carregando...</strong><div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>',this.elemento.appendChild(o),setTimeout((function(){e.mostrou&&window.confirm("Detectamos uma lentidão no sistema, verifique a conexao com a internet!\nSe for uma operação demorada pode desconsiderar este alerta!")&&e.esconder()}),this.TEMPO_DE_ESPERA)},e.prototype.esconder=function(){this.mostrou=!1;var e=this.elemento.querySelector("#".concat(this.ID));e&&e.remove()},e}(),z=function(e,o,t,n,r,a){this.parcelamento=e,this.bandeira=o,this.nome=t,this.numero=n,this.data_expiracao=r,this.codigo_verificacao=a},N=function(){function e(e,o,t,n){this.carrinho=e,this.apiParcelamento=o,this.apiBin=t,this.notificacao=n}return e.prototype.pegaDadosDoFormulario=function(e){var o,t,n,r,a,i,l,c=null===(o=e.querySelector("#parcelamento"))||void 0===o?void 0:o.value,s=null===(t=e.querySelector("#bandeira"))||void 0===t?void 0:t.value,d=null===(n=e.querySelector("#nome"))||void 0===n?void 0:n.value,u=null===(r=e.querySelector("#data_expiracao_mes"))||void 0===r?void 0:r.value,p=null===(a=e.querySelector("#data_expiracao_ano"))||void 0===a?void 0:a.value,m=null===(i=e.querySelector("#codigo_verificacao"))||void 0===i?void 0:i.value,f=null===(l=e.querySelector("#numero"))||void 0===l?void 0:l.value,h=parseInt(u)>10?"".concat(u,"/").concat(p):"0".concat(u,"/").concat(p);return new z(parseInt(c),s,d,f,h,m)},e.prototype.conteudo=function(){var e,o=this,t=a("main",["row"]);t.innerHTML='<form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto needs-validation" autocomplete="off">\n  <h1 class="h3 mb-3 fw-normal">Cartão de Crédito</h1>\n  <div class="row">\n    <div class="col-md-2 mb-3">\n      <label for="parcelamento">Número de Parcelas</label>\n      <select class="form-select" id="parcelamento" required></select>\n      <small class="text-muted">Número de Parcelas.</small>\n    </div>\n    <div class="col-md-6 mb-3">\n      <label for="numero">Número do cartão de crédito</label>\n      <input type="text" class="form-control" id="numero" placeholder="Número do cartão de crédito">\n      <div class="invalid-feedback">O número do cartão de crédito é obrigatório.</div>\n    </div>\n    <div class="col-md-2 mb-3">\n      <label for="data_expiracao_mes">Data de expiração</label>\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <select class="form-select" id="data_expiracao_mes" required>\n          '.concat(function(){for(var e=[],o=1;o<=12;o++)e.push('<option value="'.concat(o,'">').concat(o,"</option>"));return e.join("")}(),'\n          </select>\n        </div>\n        <select class="form-select" id="data_expiracao_ano" required>\n          ').concat(function(e,o){for(var t=[],n=2023;n<2050;n++)t.push('<option value="'.concat(n,'">').concat(n,"</option>"));return t.join("")}(),'\n        </select>\n      </div>\n      <div class="invalid-feedback">Data de expiração é obrigatória.</div>\n    </div>\n    <div class="col-md-2 mb-3">\n      <label for="codigo_verificacao">Código de Verificação</label>\n      <input type="text" class="form-control" id="codigo_verificacao" placeholder="Código de Verificação" required maxlength="4">\n      <div class="invalid-feedback">Código de segurança é obrigatório.</div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 mb-3">\n      <label for="bandeira">Bandeira do Cartão</label>\n      <select class="form-select" id="bandeira" required>\n        <option value="VISA">VISA</option>\n        <option value="MASTERCARD">MASTERCARD</option>\n        <option value="ELO">ELO</option>\n        <option value="HIPERCARD">HIPERCARD</option>\n        <option value="AMEX">AMERICAN EXPRESS</option>\n      </select>\n      <small class="text-muted">Nome completo, como mostrado no cartão.</small>\n      <div class="invalid-feedback">A bandeira do cartão de crédito é obrigatório.</div>\n    </div>\n    <div class="col-md-6 mb-3">\n      <label for="nome">Nome no cartão</label>\n      <input type="text" class="form-control" id="nome" placeholder="Nome no Cartão" required>\n      <small class="text-muted">Nome completo, como mostrado no cartão.</small>\n      <div class="invalid-feedback">O nome que está no cartão é obrigatório.</div>\n    </div>\n  </div>\n  <button type="submit" class="btn btn-primary">SALVAR</button>\n</form>'),this.apiParcelamento.consultar("cartaodecredito",this.carrinho).then((function(e){for(var n,i=t.querySelector("#parcelamento"),l=1;l<=e;l++){var c=(null===(n=o.carrinho.totalizador)||void 0===n?void 0:n.valor_total)||0,s=a("option",[],[{nome:"value",valor:String(l)},{nome:"label",valor:"".concat(l,"x R$ ").concat(r(c/l))}]);i.appendChild(s)}}));var n=t.querySelector("form");return null===(e=t.querySelector("#numero"))||void 0===e||e.addEventListener("change",(function(e){var t=e.target.value;t.length>=14&&o.apiBin.consultar(t).then((function(e){n.querySelector("#bandeira").value=e}))})),n.addEventListener("submit",(function(e){e.preventDefault();var t=o.pegaDadosDoFormulario(n);o.notificacao.mostrar("Sucesso","Os Dados do Cartão de Crédito (".concat(t.numero,") Foram Salvos!"))})),t},e}(),T=function(){function e(){}return e.prototype.consultar=function(e){return new Promise((function(o,t){e.startsWith("4")?o("VISA"):e.startsWith("5")?o("MASTERCARD"):t("O Cep deve ser um número válido! Ex: 88100-000")}))},e}(),F=function(){function e(){}return e.prototype.consultar=function(e,o){return new Promise((function(t,n){var r,a=Math.floor((null===(r=o.totalizador)||void 0===r?void 0:r.valor_total)/200);t(a<1?1:"boleto"!==e?"cartaodecredito"!==e?"cartaodecreditomaquineta"!==e?1:a>24?24:a:a>12?12:a:a>6?6:a)}))},e}(),k=function(e){this.parcelamento=e},H=function(){function e(e,o,t){this.carrinho=e,this.apiParcelamento=o,this.notificacao=t}return e.prototype.pegaDadosDoFormulario=function(e){var o,t=null===(o=e.querySelector("#parcelamento"))||void 0===o?void 0:o.value;return new k(parseInt(t))},e.prototype.conteudo=function(){var e=this,o=a("main",["row"]);o.innerHTML='<form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto needs-validation" autocomplete="off">\n  <h1 class="h3 mb-3 fw-normal">Boleto Parcelado</h1>\n  <div class="row">\n    <div class="col-md-6 mb-3">\n      <label for="parcelamento">Número de Parcelas</label>\n      <select class="form-select" id="parcelamento" required></select>\n      <small class="text-muted">Número de Parcelas.</small>\n    </div>\n  </div>\n  <button type="submit" class="btn btn-primary">SALVAR</button>\n</form>',this.apiParcelamento.consultar("boleto",this.carrinho).then((function(t){for(var n,i=o.querySelector("#parcelamento"),l=(null===(n=e.carrinho.totalizador)||void 0===n?void 0:n.valor_total)||0,c=1;c<=t;c++){var s=a("option",[],[{nome:"value",valor:String(c)},{nome:"label",valor:"".concat(c,"x R$ ").concat(r(l/c))}]);i.appendChild(s)}}));var t=o.querySelector("form");return t.addEventListener("submit",(function(o){o.preventDefault();var n=e.pegaDadosDoFormulario(t);e.notificacao.mostrar("Sucesso","Os Dados do Boleto Parcelado em (".concat(n.parcelamento,")x Foi Salvo!"))})),o},e}(),B=function(e,o,t,n){this.parcelamento=e,this.bandeira=o,this.codigo_nsu=t,this.codigo_autorizacao=n},V=function(){function e(e,o,t){this.carrinho=e,this.apiParcelamento=o,this.notificacao=t}return e.prototype.pegaDadosDoFormulario=function(e){var o,t,n,r,a=null===(o=e.querySelector("#parcelamento"))||void 0===o?void 0:o.value,i=null===(t=e.querySelector("#bandeira"))||void 0===t?void 0:t.value,l=null===(n=e.querySelector("#codigo_nsu"))||void 0===n?void 0:n.value,c=null===(r=e.querySelector("#codigo_autorizacao"))||void 0===r?void 0:r.value;return new B(parseInt(a),i,l,c)},e.prototype.conteudo=function(){var e=this,o=a("main",["row"]);o.innerHTML='<form class="bg-body-tertiary p-5 rounded mt-3 mb-3 m-auto needs-validation" autocomplete="off">\n  <h1 class="h3 mb-3 fw-normal">Cartão de Crédito Maquineta</h1>\n  <div class="row">\n    <div class="col-md-3 mb-3">\n      <label for="parcelamento">Número de Parcelas</label>\n      <select class="form-select" id="parcelamento" required></select>\n      <small class="text-muted">Número de Parcelas.</small>\n    </div>\n    <div class="col-md-3 mb-3">\n      <label for="bandeira">Bandeira do Cartão</label>\n      <select class="form-select" id="bandeira" required>\n        <option value="VISA">VISA</option>\n        <option value="MASTERCARD">MASTERCARD</option>\n        <option value="ELO">ELO</option>\n        <option value="HIPERCARD">HIPERCARD</option>\n        <option value="AMEX">AMERICAN EXPRESS</option>\n      </select>\n      <small class="text-muted">Nome completo, como mostrado no cartão.</small>\n      <div class="invalid-feedback">A bandeira do cartão de crédito é obrigatório.</div>\n    </div>\n    <div class="col-md-3 mb-3">\n      <label for="codigo_nsu">Código NSU</label>\n      <input type="text" class="form-control" id="codigo_nsu" placeholder="Código NSU" required>\n      <small class="text-muted">Código NSU Impresso no Comprovante.</small>\n      <div class="invalid-feedback">O Código NSU que está no comprovante é obrigatório.</div>\n    </div>\n    <div class="col-md-3 mb-3">\n      <label for="codigo_autorizacao">Código Autorização</label>\n      <input type="text" class="form-control" id="codigo_autorizacao" placeholder="Código Autorização" required>\n      <small class="text-muted">Código Autorização Impresso no Comprovante.</small>\n      <div class="invalid-feedback">O Código Autorização que está no comprovante é obrigatório.</div>\n    </div>\n  </div>\n  <button type="submit" class="btn btn-primary">SALVAR</button>\n</form>',this.apiParcelamento.consultar("cartaodecreditomaquineta",this.carrinho).then((function(t){for(var n,i=o.querySelector("#parcelamento"),l=1;l<=t;l++){var c=(null===(n=e.carrinho.totalizador)||void 0===n?void 0:n.valor_total)||0,s=a("option",[],[{nome:"value",valor:String(l)},{nome:"label",valor:"".concat(l,"x R$ ").concat(r(c/l))}]);i.appendChild(s)}}));var t=o.querySelector("form");return t.addEventListener("submit",(function(o){o.preventDefault();var n=e.pegaDadosDoFormulario(t);e.notificacao.mostrar("Sucesso","Os Dados do Cartão de Crédito (".concat(n.bandeira,") Foram Salvos!"))})),o},e}(),G=function(){function e(e,o,t,n,r){this.tipo=e,this.titulo=o,this.prazodeentrega=t,this.valor=n,this.observacoes=r}return Object.defineProperty(e.prototype,"tipo",{get:function(){return this._tipo},set:function(e){if(!e)throw Error("Forma De Entrega Inválida: o tipo é obrigatório!");this._tipo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"titulo",{get:function(){return this._titulo},set:function(e){if(!e)throw Error("Forma De Entrega Inválida: o título é obrigatório!");if(["Frete Normal","Frete Expresso"].indexOf(e)<0)throw Error("Forma De Entrega Inválida: o título ".concat(e," não é válido!"));this._titulo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prazodeentrega",{get:function(){return this._prazodeentrega},set:function(e){if(!e)throw Error("Forma De Entrega Inválida: o Prazo de Entrega é obrigatório!");this._prazodeentrega=e},enumerable:!1,configurable:!0}),e}(),U=function(){function e(){}return e.prototype.consultar=function(e,o){var t=this,n=b.instancia().loja.url_base;return new Promise((function(r,a){return i=t,l=void 0,s=function(){var t,i,l,c,s;return function(e,o){var t,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(t=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,n=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=o.call(e,i)}catch(e){l=[6,e],n=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(d){switch(d.label){case 0:if(!u(e))return a("O Cep deve ser um némero válido! Ex: 88100-000"),[2];if(0===o.produtos.length)return a("Os produtos devem ser informados!"),[2];t=o.produtos.map((function(e){return{sku:e.produto.id,qty:e.quantidade}})),d.label=1;case 1:return d.trys.push([1,4,,5]),i=e,[4,fetch("".concat(n,"rest/V2/estimate/shipping/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({estimate_shipping:{postcode:i,items:t}})})];case 2:return[4,d.sent().json()];case 3:return l=d.sent(),c=l.map((function(e){return new G(e.code,e.title,e.deadline,e.price,e.method_description)})),r(c),[3,5];case 4:return s=d.sent(),a(s),[3,5];case 5:return[2]}}))},new((c=void 0)||(c=Promise))((function(e,o){function t(e){try{r(s.next(e))}catch(e){o(e)}}function n(e){try{r(s.throw(e))}catch(e){o(e)}}function r(o){var r;o.done?e(o.value):(r=o.value,r instanceof c?r:new c((function(e){e(r)}))).then(t,n)}r((s=s.apply(i,l||[])).next())}));var i,l,c,s}))},e}(),$=function(){function e(e,o,t,n,r,a,i){this.carrinho=e,this.apiCliente=o,this.apiCep=t,this.apiParcelamento=n,this.apiBin=r,this.notificacao=a,this.carregando=i}return e.prototype.conteudo=function(){var e=a("main",["row"]);return e.innerHTML='<div class="container">\n    <div class="py-5 text-center">\n        <h2>Dados de Pagamento</h2>\n        <p class="lead">Os dados abaixo serão os mesmos que aparecerão na nota fiscal.</p>\n    </div>\n    <div class="row">\n        <div class="col-md-4 order-md-2 mb-4">\n            <h4 class="d-flex justify-content-between align-items-center mb-3">\n                <span class="text-muted">Carrinho</span>\n                <span class="badge badge-secondary badge-pill">3</span>\n            </h4>\n            <div id="itens-do-carrinho"></div>\n            <form class="card p-2" onsubmit="alert(\'ainda nao disponivel!\');return false">\n                <div class="input-group">\n                    <input type="text" class="form-control" placeholder="Código Promocional" id="codigo-promocional">\n                    <div class="input-group-append">\n                        <button type="submit" class="btn btn-secondary">Aplicar</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class="col-md-8 order-md-1" id="formulario-de-pagamento"></div>\n    </div>\n</div>',e.querySelector("#itens-do-carrinho").append(this.htmlItensCarrinho()),e.querySelector("#formulario-de-pagamento").append(this.htmlFormularioDePagamento()),e},e.prototype.htmlItemCarrinho=function(e){var o=a("li",["list-group-item","d-flex","justify-content-between"]);return o.innerHTML='<div>\n                        <h6 class="my-0">SKU: '.concat(e.produto.id,'</h6>\n                        <small class="text-muted">').concat(e.produto.nome,'</small>\n                    </div>\n                    <span class="text-muted">').concat(e.quantidade,"x R$ ").concat(r(e.preco_unitario),"</span>"),o},e.prototype.htmlDescontos=function(){var e,o,t=a("li",["list-group-item","d-flex","justify-content-between","bg-light"]);return(null===(e=this.carrinho.totalizador)||void 0===e?void 0:e.valor_desconto)?(t.innerHTML='<div class="text-success">\n                        <h6 class="my-0">Descontos</h6>\n                        <small>xxxx</small>\n                    </div>\n                    <span class="text-success">R$ '.concat(r(null===(o=this.carrinho.totalizador)||void 0===o?void 0:o.valor_desconto),"</span>"),t):t},e.prototype.htmlTotal=function(){var e,o=a("li",["list-group-item","d-flex","justify-content-between"]);return o.innerHTML="<span>Total</span>\n                    <strong>".concat(r(null===(e=this.carrinho.totalizador)||void 0===e?void 0:e.valor_total),"</strong>"),o},e.prototype.htmlItensCarrinho=function(){var e=this,o=a("ul",["list-group","mb-3","sticky-top"]);return this.carrinho.produtos.map((function(t){o.append(e.htmlItemCarrinho(t))})),o.append(this.htmlDescontos()),o.append(this.htmlTotal()),o},e.prototype.htmlFormularioDePagamento=function(){var e=this,o=a("form",["needs-validation"]),t=new _(o,this.apiCliente,this.notificacao,this.carregando);t.mostrar(),o.append(a("hr",["mb-4"]));var n=new C(o,this.apiCep,this.notificacao,this.carregando);n.mostrar();var i=a("button",["btn","btn-secondary"],[{nome:"type",valor:"button"}],"Opções de Entrega");i.addEventListener("click",(function(t){t.preventDefault();var i=new U;try{var l=n.pegaDados();i.consultar(l.cep,e.carrinho).then((function(e){var t;null===(t=o.querySelector("#form-entrega"))||void 0===t||t.remove();var i=a("div",["form-check"]);i.setAttribute("id","form-entrega"),e.map((function(e){var o=a("div",["form-check"]),t=a("input",["form-check-input"]);t.setAttribute("type","radio"),t.setAttribute("name","forma-entrega"),t.setAttribute("id","form-entrega-".concat(e.tipo)),o.append(t);var n=a("label",["form-check-label"]);n.innerHTML="".concat(e.titulo," - R$ ").concat(r(e.valor)," - ").concat(e.prazodeentrega),n.setAttribute("for","form-entrega-".concat(e.tipo)),o.append(n),i.appendChild(o)})),o.querySelector("#".concat(n.ID)).append(i)})).catch((function(o){return e.notificacao.mostrar("Erro",o,"danger")})).finally((function(){return e.carregando.esconder()}))}catch(o){e.notificacao.mostrar("Erro",o,"danger"),e.carregando.esconder()}})),o.append(i),o.append(a("hr",["mb-4"]));var l=a("button",["btn","btn-primary"],[{nome:"type",valor:"button"}],"SALVAR PEDIDO");return o.addEventListener("submit",(function(o){o.preventDefault();try{var n=t.pegaDados();e.apiCliente.salvar(n).then((function(){e.notificacao.mostrar("Sucesso","O Pedido do Cliente ".concat(n.nome," Foi Salvo!"),"success")})).catch((function(o){return e.notificacao.mostrar("Erro",o,"danger")})).finally((function(){return e.carregando.esconder()}))}catch(o){e.notificacao.mostrar("Erro",o,"danger"),e.carregando.esconder()}})),o.append(l),o},e}(),Q=function(){function e(e){this.carrinho=e}return e.prototype.htmlListaDePromocoesAtivas=function(){var e=a("div",["row"]);return this.carrinho.promocoes.map((function(o){var t=a("div",["col-6","mb-3","".concat(o.promocao_aplicada?"bg-info":"inative")]);t.innerHTML="\n            ".concat(o.nome," - ").concat(o.descricao," - ").concat(o.promocao_aplicada,"\n            ").concat(o.imagem_desktop?'<img src="'.concat(o.imagem_desktop,'" width="540" height="245" alt="').concat(o.nome,'">'):""),e.appendChild(t)})),e},e.prototype.htmlListaDePromocoes=function(){var e=document.getElementById("lista-de-promocoes");return e?e.innerHTML="":e=a("div",["lista-de-promocoes","row"],[{nome:"id",valor:"lista-de-promocoes"}]),this.carrinho.promocoes.length<1||"uc"===b.instancia().loja.nome?(e.innerHTML='<div class="bg-body-tertiary p-5 rounded mt-3">\n    <h2>Nenhuma promoção cadastrada.</h2>\n    <p class="lead">Que pena não encontramos nenhuma promoção para este cliente!</p>\n  </div>',e):(e.appendChild(this.htmlListaDePromocoesAtivas()),e)},e.prototype.conteudo=function(){var e=a("main");return e.appendChild(this.htmlListaDePromocoes()),e},e}(),K=function(){var e=function(o,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},e(o,t)};return function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),W=function(e){function o(o,t){var n=e.call(this)||this;return n.elemento=o,n.barraDeNavegacao=t,n.inicializar(),n}return K(o,e),o.prototype.defineTema=function(e){var o=a("link",[],[{nome:"rel",valor:"stylesheet"},{nome:"href",valor:"./"+e+".css"}]);document.querySelector("head").appendChild(o)},o.prototype.inicializar=function(){var e=document.querySelector("body"),o="tema-ds";this._apiVendedor=new O,this._notificacao=new R(e),this._carregando=new j(e),this.tela=new M(this._apiVendedor,this._notificacao),e.classList.add(o),this.defineTema(o),this.inicializaEventos()},o.prototype.conteudo=function(){return this.tela.conteudo()},Object.defineProperty(o.prototype,"tela",{get:function(){return this._tela},set:function(e){this._tela=e,this.renderizar()},enumerable:!1,configurable:!0}),o.prototype.inicializaEventos=function(){var e=this;document.addEventListener("atualizar-tela",(function(){e.renderizar()})),document.addEventListener("autenticacao",(function(o){var t=e._apiVendedor.ehAdministrador(),n=e.criaCarrinho(),r=new f,a=new v,i=new T,l=new F,c=new y,s=new A(o.detail),d=new I(c,e._notificacao,e._carregando),u=new P(r,e._notificacao,e._carregando),p=new S(a,e._notificacao,e._carregando),m=new E(c,n,e._carregando),h=new V(n,l,e._notificacao),g=new N(n,l,i,e._notificacao),b=new H(n,l,e._notificacao),_=new $(n,r,a,l,i,e._notificacao,e._carregando),C=new q(n,e._notificacao),w=new Q(n);e.tela=s,e.barraDeNavegacao.adicionaMenu("menu-configuracoes","Configurações",(function(){e.tela=d})),t&&e.barraDeNavegacao.adicionaMenu("menu-cliente","Cliente",(function(){e.tela=u})),t&&e.barraDeNavegacao.adicionaMenu("menu-endereco","Endereço de Entrega",(function(){e.tela=p})),e.barraDeNavegacao.adicionaMenu("menu-lista-de-produtos","Lista de Produtos",(function(){m.pegaDadosDosProdutos(),e.tela=m})),t&&e.barraDeNavegacao.adicionaMenu("menu-cartao-de-credito-maquineta","CC Maquineta",(function(){e.tela=h})),t&&e.barraDeNavegacao.adicionaMenu("menu-cartao-de-credito","CC",(function(){e.tela=g})),t&&e.barraDeNavegacao.adicionaMenu("menu-boleto-parcelado","Boleto Parcelado",(function(){e.tela=b})),e.barraDeNavegacao.adicionaMenu("menu-pagamento","Promoções",(function(){e.tela=w})),e.barraDeNavegacao.adicionaMenu("menu-carrinho","Carrinho",(function(){e.tela=C})),e.barraDeNavegacao.adicionaMenu("menu-pagamento","Pagamento",(function(){e.tela=_})),e.barraDeNavegacao.adicionaMenu("menu-deslogar","Logout",(function(){window.location.reload()})),e.renderizar()}))},o.prototype.criaCarrinho=function(){var e=new c,o=1;return e.promocoes.push(new l("10% de desconto - MARCA ALLPRIME",o++,!0,new Date(2023,0,1),new Date(2023,11,31),[{tipo:"marca",operacao:"igual",valor:"ALLPRIME"},{tipo:"valor_itens",operacao:"maior_igual",valor:"50"}],{tipo:"desconto_porcentagem",valor:10})),e.promocoes.push(this.criarRegraBrinde(2,"Mini Creme - COLGATE","Compre R$ 99,99 em COLGATE e Ganhe Mini Creme Colgate","https://cdn.dentalspeed.com/produtos/210/creme-dental-colgate-total-12-gum-30g-colgate-dentalspeed-19764a-1.jpg","marca","COLGATE","99","https://cdn.dentalspeed.com/home/jun-23/home/brindes/26-06/desktop-pagina-brinde-fashion-week-creme-DS.png")),e.promocoes.push(this.criarRegraBrinde(2,"Gorro - FUN WORK","Compre R$ 399,99 na marca FUN WORK e Ganhe Gorro","https://cdn.dentalspeed.com/produtos/210/gorro-tradicional-gabardine-branco-fun18033a.jpg","marca","FUN WORK","399","https://cdn.dentalspeed.com/home/jun-23/home/brindes/26-06/desktop-pagina-brinde-fashion-week-gorro-DS.png")),e.promocoes.push(this.criarRegraBrinde(2,"Sacochila - Dra. Cherie","Compre R$ 599,99 na marca Dra. Cherie e Ganhe Sacochila","https://cdn.dentalspeed.com/produtos/210/brinde-sacochila-estampada-gift-dra-cherie-bdrc32587a.jpg","marca","DRA. CHERIE","599","https://cdn.dentalspeed.com/home/jun-23/home/brindes/26-06/desktop-pagina-brinde-fashion-week-sacochila-DS.png")),e.promocoes.push(this.criarRegraBrinde(2,"Resina Palfique Omnichroma - PHS","Compre R$ 399,99 na marca FUN WORK e Ganhe Gorro","https://cdn.dentalspeed.com/produtos/210/resina-palfique-omnichroma-trial-syringe-1ml-tokuyama-dental-ds-28093a-1.jpg","marca","PHS","399","https://cdn.dentalspeed.com/home/jun-23/brindes/desktop-brinde-phs.png")),e},o.prototype.criarRegraBrinde=function(e,o,t,n,r,a,i,c){var s=new g("BRINDE".concat(e),o,0,!0);return s.imagem=n,s.descricao=t,new l(t,e++,!0,new Date(2023,0,1),new Date(2023,11,31),[{tipo:r,operacao:"igual",valor:a},{tipo:"valor_itens",operacao:"maior_igual",valor:i}],{tipo:"brinde_unico",valor:1,brindes:[s]},"",c)},o.prototype.cabecalho=function(){return this.barraDeNavegacao.conteudo()},o.prototype.rodape=function(){var e=b.instancia(),o=a("footer",["footer","mt-auto","py-3","bg-body-tertiary","row"]),t=new Date;return o.innerHTML='<div class="container text-center">\n            <span class="text-body-secondary">\n            © 1988–'.concat(t.getFullYear()," GG2 Soluções (v.:").concat(e.versao,"). \n            Todos os direitos reservados.\n            </span>\n        </div>"),o},o}(i),J=function(){function e(){this.menus=[],this.nav=a("nav",["navbar","navbar-expand-lg","bg-body-tertiary","row"])}return e.prototype.adicionaMenu=function(e,o,t){var n=a("a",["nav-link"],[{nome:"href",valor:"#"}],o);this.adicionaEventoNoMenu(n,t);var r=a("li",["nav-item","item-".concat(e)],[{nome:"id",valor:e}]);r.appendChild(n),this.menus.push(r)},e.prototype.adicionaEventoNoMenu=function(e,o){var t=this;e.addEventListener("click",(function(e){var n;e.preventDefault(),null===(n=t.nav.querySelector(".active"))||void 0===n||n.classList.remove("active"),e.target.classList.add("active"),o(),document.dispatchEvent(new CustomEvent("atualizar-tela",{detail:"conteudo"}))}))},e.prototype.conteudo=function(){var e=b.instancia().loja.titulo;this.nav.innerHTML='<div class="container">\n        <a class="navbar-brand" href="#" id="nome-da-loja">'.concat(e,'</a>\n        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"\n                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">\n            <span class="navbar-toggler-icon"></span>\n        </button>\n        <div class="collapse navbar-collapse" id="navbarSupportedContent">\n            <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>\n        </div>\n    </div>');for(var o=this.nav.querySelector("#navbarSupportedContent ul"),t=0,n=this.menus;t<n.length;t++){var r=n[t];o.appendChild(r)}return this.nav},e}();new W(document.getElementById("app"),new J)})();